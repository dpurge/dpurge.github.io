<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Terraform on Notebook</title><link>https://dpurge.github.io/docs/devops/terraform/</link><description>Recent content in Terraform on Notebook</description><generator>Hugo</generator><language>en-us</language><atom:link href="https://dpurge.github.io/docs/devops/terraform/index.xml" rel="self" type="application/rss+xml"/><item><title/><link>https://dpurge.github.io/docs/devops/terraform/basics/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://dpurge.github.io/docs/devops/terraform/basics/</guid><description>&lt;h1 id="basic-commands">
 Basic commands
 &lt;a class="anchor" href="#basic-commands">#&lt;/a>
&lt;/h1>
&lt;h2 id="resource-management">
 Resource management
 &lt;a class="anchor" href="#resource-management">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>terraform init
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>terraform plan
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>terraform apply
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>terraform destroy
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="work-with-code">
 Work with code
 &lt;a class="anchor" href="#work-with-code">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>terraform validate
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>terraform fmt
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="work-with-state">
 Work with state
 &lt;a class="anchor" href="#work-with-state">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>terraform state list
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>terraform state mv
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>terraform state show
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>terraform state rm &lt;span style="color:#ae81ff">\&amp;lt;&lt;/span>type&lt;span style="color:#ae81ff">\&amp;gt;&lt;/span>.&lt;span style="color:#ae81ff">\&amp;lt;&lt;/span>resource&lt;span style="color:#ae81ff">\&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Examples:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-pwsh" data-lang="pwsh">&lt;span style="display:flex;">&lt;span>[&lt;span style="color:#66d9ef">System.Text.Encoding&lt;/span>]::UTF8.GetString([&lt;span style="color:#66d9ef">System.Convert&lt;/span>]::FromBase64String((kubectl get secret api-secret -o jsonpath=&lt;span style="color:#e6db74">&amp;#39;{.data.db-connectionstring}&amp;#39;&lt;/span>)))
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>terragrunt plan -var&lt;span style="color:#f92672">-file&lt;/span> secrets.tfvars --terragrunt-log-level debug
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>az ad group show --group xxx-Contributors --query id --output tsv
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title/><link>https://dpurge.github.io/docs/devops/terraform/installation/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://dpurge.github.io/docs/devops/terraform/installation/</guid><description>&lt;h1 id="installation">
 Installation
 &lt;a class="anchor" href="#installation">#&lt;/a>
&lt;/h1>




&lt;div class="book-tabs">&lt;input type="radio" class="toggle" name="tabs-tf-setup" id="tabs-tf-setup-0" checked="checked" />
 &lt;label for="tabs-tf-setup-0">Linux&lt;/label>
 &lt;div class="book-tabs-content markdown-inner">&lt;p>Install &lt;code>tfswitch&lt;/code>:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>export TFSWITCH_VERSION&lt;span style="color:#f92672">=&lt;/span>0.13.1300
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>curl &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> -sSL https://github.com/warrensbox/terraform-switcher/releases/download/&lt;span style="color:#e6db74">${&lt;/span>TFSWITCH_VERSION&lt;span style="color:#e6db74">}&lt;/span>/terraform-switcher_&lt;span style="color:#e6db74">${&lt;/span>TFSWITCH_VERSION&lt;span style="color:#e6db74">}&lt;/span>_linux_amd64.tar.gz &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> -o /tmp/tfswitch_linux_amd64.tar.gz
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>tar --directory&lt;span style="color:#f92672">=&lt;/span>/usr/local/bin -xf /tmp/tfswitch_linux_amd64.tar.gz tfswitch
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>rm /tmp/tfswitch_linux_amd64.tar.gz
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Install &lt;code>terraform&lt;/code>:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>tfswitch 1.3.7
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Install &lt;code>tflint&lt;/code>:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>export TFLINT_VERSION&lt;span style="color:#f92672">=&lt;/span>0.38.1
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>curl &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> -sSL https://github.com/terraform-linters/tflint/releases/download/v&lt;span style="color:#e6db74">${&lt;/span>TFLINT_VERSION&lt;span style="color:#e6db74">}&lt;/span>/tflint_linux_amd64.zip &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> -o /tmp/tflint_linux_amd64.zip
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>cd /usr/local/bin
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>unzip /tmp/tflint_linux_amd64.zip
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>rm /tmp/tflint_linux_amd64.zip
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;input type="radio" class="toggle" name="tabs-tf-setup" id="tabs-tf-setup-1" />
 &lt;label for="tabs-tf-setup-1">MacOS&lt;/label>
 &lt;div class="book-tabs-content markdown-inner">&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>brew tap hashicorp/tap
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>brew install hashicorp/tap/terraform
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;input type="radio" class="toggle" name="tabs-tf-setup" id="tabs-tf-setup-2" />
 &lt;label for="tabs-tf-setup-2">Windows&lt;/label>
 &lt;div class="book-tabs-content markdown-inner">&lt;p>$tf_version = &amp;ldquo;1.6.4&amp;rdquo;
$tf_archive = &amp;ldquo;
 &lt;a href="https://releases.hashicorp.com/terraform/$%7btf_version%7d/terraform_$%7btf_version%7d_windows_amd64.zip%22">https://releases.hashicorp.com/terraform/${tf_version}/terraform_${tf_version}_windows_amd64.zip"&lt;/a>
Invoke-WebRequest -Uri $tf_archive -OutFile &amp;ldquo;${pwd}/terraform_${tf_version}_windows_amd64.zip&amp;rdquo;&lt;/p>
&lt;p>Add-Type -Assembly System.IO.Compression.FileSystem
$zip = [IO.Compression.ZipFile]::OpenRead(&amp;quot;${pwd}/terraform_${tf_version}&lt;em>windows_amd64.zip&amp;rdquo;)
$Executables = $zip.Entries | Where-Object {$&lt;/em>.Name -like &amp;lsquo;*.exe&amp;rsquo;}
foreach ($Executable in $Executables) {
[System.IO.Compression.ZipFileExtensions]::ExtractToFile($Executable, &amp;ldquo;${pwd}/$($Executable.Name)&amp;rdquo;, $True)
}
$zip.Dispose()
Remove-Item -Path &amp;ldquo;${pwd}/terraform_${tf_version}_windows_amd64.zip&amp;rdquo;&lt;/p></description></item></channel></rss>