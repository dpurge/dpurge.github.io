[{"id":0,"href":"/docs/devops/azure/exploring/","title":"Exploring","section":"Azure","content":" Exploring Azure resources # List subscription and tenant # az account show --query \u0026#34;{subscriptionId:id, tenantId:tenantId}\u0026#34; -o table Create service principal for RBAC # az ad sp create-for-rbac --role Contributor --name my-name-001 --scope /subscriptions/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx Find VM images # az vm image list-offers --publisher Canonical --location westeurope -o table az vm image list-skus --publisher Canonical --offer 0001-com-ubuntu-server-jammy --location westeurope -o table az vm image list --all --publisher Canonical --offer 0001-com-ubuntu-server-jammy --sku 22_04-lts --location westeurope -o table Refer to this image: Canonical:0001-com-ubuntu-server-jammy:22_04-lts\nList public and private IP # For current subscription:\naz vm list -d --query \u0026#34;[].{Name:name, PublicIPs:publicIps, PrivateIPs:privateIps}\u0026#34; -o table For all subscriptions:\nfor i in `az account list --query \u0026#34;[].{id:id}\u0026#34; --output tsv`; do az account set --subscription $i; az vm list -d --query \u0026#34;[].{Name:name, PublicIPs:publicIps, PrivateIPs:privateIps}\u0026#34; --output tsv; done "},{"id":1,"href":"/docs/devops/docker/azure/","title":"Azure","section":"Docker","content":" Azure from docker # Access to the storage account # Dockerfile:\nFROM ubuntu:22.04 RUN apt-get update \u0026amp;\u0026amp; apt install -y ca-certificates pkg-config libfuse-dev cmake libcurl4-gnutls-dev libgnutls28-dev uuid-dev libgcrypt20-dev wget RUN wget https://packages.microsoft.com/config/ubuntu/20.04/packages-microsoft-prod.deb \\ \u0026amp;\u0026amp; dpkg -i packages-microsoft-prod.deb \\ \u0026amp;\u0026amp; rm packages-microsoft-prod.deb RUN apt-get update RUN apt-get install -y blobfuse fuse RUN mkdir /storage-container COPY fuse_connection.cfg /fuse_connection.cfg Contents of fuse_connection.cfg:\naccountName mystgaccnt accountKey xxxxxxxxxxxxxxxxxxxxxx containerName test-data Build and start the container:\ndocker build -t azure-data . docker run -it --rm --cap-add SYS_ADMIN --device /dev/fuse azure-data bash Create blob in test-data container:\nblobfuse /storage-container --tmp-path=/mnt/resource/blobfusetmp --config-file=/fuse_connection.cfg -o attr_timeout=240 -o entry_timeout=240 -o negative_timeout=120 mkdir /storage-container/test echo \u0026#34;hello world\u0026#34; \u0026gt; test/hello-blob.txt In another instance, read that data:\nblobfuse /storage-container --tmp-path=/mnt/resource/blobfusetmp --config-file=/fuse_connection.cfg -o attr_timeout=240 -o entry_timeout=240 -o negative_timeout=120 cat /storage-container/test/hello-blob.txt Delete blob and the directory:\nrm /storage-container/test/hello-blob.txt rmdir /storage-container/test "},{"id":2,"href":"/docs/devops/docker/basics/","title":"Basics","section":"Docker","content":" Docker basics # "},{"id":3,"href":"/docs/devops/docker/installation/","title":"Installation","section":"Docker","content":" Docker installation # Windows # TODO\nLinux # TODO\nWSL # Enable integration in Docker Desktop: Settings -\u0026gt; Resources -\u0026gt; WSL Integration\n"},{"id":4,"href":"/docs/devops/docker/volumes/","title":"Volumes","section":"Docker","content":" Docker volumes # Docker Desktop for Windows stores volumes in the WSL instance docker-desktop-data. It is used by Docker Desktop backend to store images and volumes.\nTo export it:\nwsl --export docker-desktop-data docker-desktop-data.tar Creating and removing volumes # docker volume create jdp_src docker volume rm jdp_src Mounting volumes # Mounting simple volumes:\ndocker run -it --rm --volume jdp_src:/src alpine docker run -it --rm --mount source=jdp_src,target=/src alpine Mounting from WSL:\ndocker run -it --rm --volume \u0026#34;\\\\wsl$\\Ubuntu\\var\\docker\\volumes\\alpine_persistent_data:/data\u0026#34; alpine "},{"id":5,"href":"/docs/devops/git/configuration/","title":"Configuration","section":"Git","content":" Configuration of git # Username and email # git config --global user.name \u0026#34;D. Purge\u0026#34; git config --global user.email \u0026#34;my@email.com\u0026#34; SSH checkouts from Azure DevOps # Generate SSH keypair:\nssh-keygen -t rsa Full parameters:\nssh-keygen \\ -m PEM \\ -t rsa \\ -b 4096 \\ -C \u0026#34;user@server.example.com\u0026#34; \\ -f ~/.ssh/mykeys/privatekey \\ -N passphrase Parameters:\n-m PEM = format key as PEM -t RSA = type of the key, RSA format -b 4096 = number of bits in the key, 4096 bits -C \u0026ldquo; user@server.example.com\u0026rdquo; = a comment appended at the end of the public key, to identify it -f ~/.ssh/mykeys/privatekey = the filename of the private key filet, a corresponding public key file appended with .pub is generated in the same directory which must exist -N passphrase = a passphrase used to access the private key file Add configuration in ~/.ssh/config:\nHost ssh.dev.azure.com\rIdentityFile ~/.ssh/id_rsa\rIdentitiesOnly yes\rUser git\rPubkeyAcceptedAlgorithms +ssh-rsa\rHostkeyAlgorithms +ssh-rsa "},{"id":6,"href":"/docs/devops/kubernetes/azure-kubernetes/","title":"Azure Kubernetes","section":"Kubernetes","content":" Kubernetes on Azure # Deployment to cluster # Connect to Azure container registry:\naz account set --subscription xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx az aks get-credentials --resource-group ResGrp-Name001 --name acrname001 Create namespace YAML:\nkubectl create namespace my-namespace-name -o yaml --dry-run=client Create deployment YAML:\nkubectl create deployment image-name --image=acrname001.azurecr.io/image_name:1.0.0 -o yaml --dry-run=client Apply namespace YAML:\nkubectl apply -f namespace.yaml kubectl get namespaces Apply deployment YAML:\nkubectl apply -f image-name-deployment.yaml kubectl logs -f deployment/image-name --namespace my-namespace-name List pods:\nkubectl get pods --namespace my-namespace-name Execute command on a pod:\nkubectl exec image-name-xxxxxxxxxx-xxxxx --namespace my-namespace-name -- python --version Run interactive shell on a pod:\nkubectl exec --stdin --tty image-name-xxxxxxxxxx-xxxxx --namespace my-namespace-name -- bash "},{"id":7,"href":"/docs/devops/kubernetes/installation/","title":"Installation","section":"Kubernetes","content":" Installation # Linux # TODO\nInstall Helm:\nexport HELM_VERSION=3.9.2 cd /tmp curl \\ -sSL https://get.helm.sh/helm-v${HELM_VERSION}-linux-amd64.tar.gz \\ -o helm.tar.gz tar xf helm.tar.gz linux-amd64/helm mv linux-amd64/helm /usr/local/bin/helm rmdir linux-amd64 rm helm.tar.gz "},{"id":8,"href":"/docs/devops/packer/installation/","title":"Installation","section":"Packer","content":" Installation # Linux # export PACKER_VERSION=1.7.10 curl \\ -sSL https://releases.hashicorp.com/packer/${PACKER_VERSION}/packer_${PACKER_VERSION}_linux_amd64.zip \\ -o /tmp/packer_linux_amd64.zip cd /usr/local/bin unzip /tmp/packer_linux_amd64.zip rm /tmp/packer_linux_amd64.zip "},{"id":9,"href":"/docs/devops/terraform/basics/","title":"Basics","section":"Terraform","content":" Basic commands # Resource management # terraform init terraform plan terraform apply terraform destroy Work with code # terraform validate terraform fmt Work with state # terraform state list terraform state mv terraform state show "},{"id":10,"href":"/docs/devops/terraform/installation/","title":"Installation","section":"Terraform","content":" Installation # Linux # Install tfswitch:\nexport TFSWITCH_VERSION=0.13.1300 curl \\ -sSL https://github.com/warrensbox/terraform-switcher/releases/download/${TFSWITCH_VERSION}/terraform-switcher_${TFSWITCH_VERSION}_linux_amd64.tar.gz \\ -o /tmp/tfswitch_linux_amd64.tar.gz tar --directory=/usr/local/bin -xf /tmp/tfswitch_linux_amd64.tar.gz tfswitch rm /tmp/tfswitch_linux_amd64.tar.gz Install terraform:\ntfswitch 1.3.7 Install tflint:\nexport TFLINT_VERSION=0.38.1 curl \\ -sSL https://github.com/terraform-linters/tflint/releases/download/v${TFLINT_VERSION}/tflint_linux_amd64.zip \\ -o /tmp/tflint_linux_amd64.zip cd /usr/local/bin unzip /tmp/tflint_linux_amd64.zip rm /tmp/tflint_linux_amd64.zip "},{"id":11,"href":"/docs/devops/terragrunt/basics/","title":"Basics","section":"Terragrunt","content":" Basic commands # Work with state # terragrunt state pull \u0026gt; backup.tfstate terragrunt state push backup.tfstate "},{"id":12,"href":"/docs/devops/wsl/installation/","title":"Installation","section":"WSL","content":" Installation of WSL # WSL2 # Enable Windows subsystem for Linux:\nEnable-WindowsOptionalFeature -Online -NoRestart -FeatureName Microsoft-Windows-Subsystem-Linux Enable-WindowsOptionalFeature -Online -NoRestart -FeatureName VirtualMachinePlatform Enable version 2 of WSL:\nInvoke-WebRequest https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi -OutFile c:\\wsl_update_x64.msi -UseBasicParsing Invoke-WebRequest https://... -OutFile D:\\dat\\WSL\\kernel\\vmlinux -UseBasicParsing start D:\\dat\\WSL\\wsl_update_x64.msi wsl --set-default-version 2 Configure non-default kernel in %USERPROFILE%\\.wslconfig:\n[wsl2] kernel=D:\\\\dat\\\\WSL\\\\kernel\\\\vmlinux Import Ubuntu image from docker # Download image: Invoke-WebRequest https://raw.githubusercontent.com/tianon/docker-brew-ubuntu-core/fbca80af7960ffcca085d509c20f53ced1697ade/kinetic/ubuntu-kinetic-oci-amd64-root.tar.gz -OutFile C:\\ubuntu-kinetic-oci-amd64-root.tar.gz -UseBasicParsing Import image: wsl --import jdp-ubuntu C:\\dat\\WSL\\jdp-ubuntu C:\\ubuntu-kinetic-oci-amd64-root.tar.gz Update system: apt-get update Import Arch image from docker # Download image: Invoke-WebRequest https://gitlab.archlinux.org/archlinux/archlinux-docker/-/package_files/2816/download -OutFile C:\\arch-base-20220704.0.66039.tar.zst -UseBasicParsing Import image: wsl --import jdp-arch C:\\dat\\WSL\\jdp-arch C:\\arch-base-20220704.0.66039.tar Uncomment locale file: /etc/locale.gen Generate locale: locale-gen Initialize key: pacman-key --init Update system: pacman -Syu Mount host directory # Create directory in WSL: mkdir /src\nEdit /etc/fstab and add line: C:/src /src drvfs defaults 0 0\nReload the fstab file: sudo mount -a\n"},{"id":13,"href":"/docs/devops/wsl/ubuntu2004/","title":"Ubuntu2004","section":"WSL","content":" Ubuntu 20.04 # Invoke-WebRequest -Uri https://aka.ms/wslubuntu2004 -OutFile c:\\ubuntu2004.appx -UseBasicParsing Add-AppxPackage c:\\ubuntu2004.appx # DISM.EXE /Online /Add-ProvisionedAppxPackage /PackagePath:c:\\\\ubuntu2004.appx /SkipLicense --AllUsers Start Ubuntu 20.04 console to install the base system, and then run:\nsudo apt update sudo apt upgrade Docker in Ubuntu 20.04 # sudo apt install --no-install-recommends apt-transport-https ca-certificates curl gnupg2 net-tools source /etc/os-release curl -fsSL https://download.docker.com/linux/${ID}/gpg | sudo apt-key add - echo \u0026#34;deb [arch=amd64] https://download.docker.com/linux/${ID} ${VERSION_CODENAME} stable\u0026#34; | sudo tee /etc/apt/sources.list.d/docker.list sudo apt update sudo apt install docker-ce docker-ce-cli containerd.io docker-compose "},{"id":14,"href":"/docs/devops/wsl/ubuntu2204/","title":"Ubuntu2204","section":"WSL","content":" Ubuntu 22.04 # Update the system:\nsudo apt update sudo apt -y upgrade RDP connections # Install xrdp and xwindows:\nsudo apt install -y xrdp sudo apt install -y xfce4 xfce4-goodies sudo sed -i \u0026#39;s/3389/3390/g\u0026#39; /etc/xrdp/xrdp.ini sudo sed -i \u0026#39;s/max_bpp=32/max_bpp=128/g\u0026#39; /etc/xrdp/xrdp.ini sudo sed -i \u0026#39;s/xserverbpp=24/xserverbpp=128/g\u0026#39; /etc/xrdp/xrdp.ini echo xfce4-session \u0026gt; ~/.xsession Comment out and add line in /etc/xrdp/startwm.sh:\n# test -x /etc/X11/Xsession \u0026amp;\u0026amp; exec /etc/X11/Xsession # exec /bin/sh /etc/X11/Xsession startxfce4 Start XRDP:\nsudo /etc/init.d/xrdp start Connect in RDP to localhost:3390.\n"},{"id":15,"href":"/docs/programming/awk/basics/","title":"Basics","section":"Awk","content":" Awk basics # "},{"id":16,"href":"/docs/programming/bash/basics/","title":"Basics","section":"Bash","content":" Bash basics # "},{"id":17,"href":"/docs/programming/csharp/basics/","title":"Basics","section":"C#","content":" C# Basics # "},{"id":18,"href":"/docs/programming/go/basics/","title":"Basics","section":"Go","content":" Go Basics # "},{"id":19,"href":"/docs/programming/go/installation/","title":"Installation","section":"Go","content":" Installation # sudo apt update sudo apt upgrade -y sudo apt install golang -y Check version: go version\n"},{"id":20,"href":"/docs/programming/powershell/basics/","title":"Basics","section":"Powershell","content":" Powershell basics # "},{"id":21,"href":"/docs/programming/python/basics/","title":"Basics","section":"Python","content":" Python basics # Application structure # TODO\nClass structure # TODO\nExecutable module # TODO\n"},{"id":22,"href":"/docs/programming/python/environment/","title":"Environment","section":"Python","content":" Virtual environment # TODO\nVenv # Create and activate virtual environment:\nBash echo Hello Powershell python -m venv .venv .venv\\Scripts\\activate.ps1 Cmd echo Hello Upgrade pip and install requirements.txt:\npython -m pip install --upgrade pip pip install -r requirements.txt Deactivate virtual environment:\ndeactivate Pipenv # TODO\n"},{"id":23,"href":"/docs/programming/python/installation/","title":"Installation","section":"Python","content":" Installation # PyEnv on Linux # Install build dependencies:\nsudo apt update sudo apt install \\ build-essential \\ libssl-dev \\ zlib1g-dev \\ libbz2-dev \\ libreadline-dev \\ libsqlite3-dev \\ curl \\ llvm \\ libncursesw5-dev \\ xz-utils \\ tk-dev \\ libxml2-dev \\ libxmlsec1-dev \\ libffi-dev \\ liblzma-dev Install PyEnv scripts:\ncurl https://pyenv.run | bash Add to ~/.profile:\nexport PATH=\u0026#34;$HOME/.pyenv/bin:$PATH\u0026#34; if command -v pyenv 1\u0026gt;/dev/null 2\u0026gt;\u0026amp;1; then eval \u0026#34;$(pyenv init -)\u0026#34; fi PyEnv on Windows # Copy pyenv-win from https://github.com/pyenv-win/pyenv-win/archive/master.zip to E:\\pgm\\pyenv-win.\nEnvironment variables:\nName Value PYENV_HOME E:\\pgm\\pyenv-win PYENV_ROOT E:\\pgm\\pyenv-win PYENV E:\\pgm\\pyenv-win Add to PATH:\nE:\\pgm\\pyenv-win\\bin E:\\pgm\\pyenv-win\\shims List available versions: pyenv install -l\nInstall chosen version: pyenv install 3.11.1\nSet global Python version: pyenv global 3.11.1\nSet local Python version: pyenv local 3.11.1\nInstall basic packages # pip install invoke pip install pipenv Create environment variable PIPENV_VENV_IN_PROJECT=1.\n"},{"id":24,"href":"/docs/programming/typescript/nodejs/","title":"Nodejs","section":"Typescript","content":" NodeJS # Installation on Linux # git clone https://github.com/nvm-sh/nvm.git /opt/nvm cd /opt/nvm git checkout v0.39.3 Add to ~/.profile:\nexport NVM_DIR=\u0026#34;$HOME/.nvm\u0026#34; if [ -s \u0026#34;$NVM_DIR/nvm.sh\u0026#34; ]; then . \u0026#34;$NVM_DIR/nvm.sh\u0026#34; fi if [ -s \u0026#34;$NVM_DIR/bash_completion\u0026#34; ]; then . \u0026#34;$NVM_DIR/bash_completion\u0026#34; fi Install NodeJS:\nnvm install node nvm install-latest-npm npm install -g yarn Installation on Windows # Install NVM for Windows\nSettings:\nroot: D:\\pgm\\nvm path: D:\\pgm\\nodejs Install NodeJS:\nnvm list available nvm install latest nvm use newest Install yarn:\nnpm install -g yarn "}]